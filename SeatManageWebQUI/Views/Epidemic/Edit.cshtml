@model com.gxchuwei.Model.PersonInfo
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>AddNewBlack</title>
    <!--框架必需start-->
    
    <meta name="viewport" content="width=device-width" />
    <title>AddNewBlack</title>
    <!--框架必需start-->
    <script type="text/javascript" src="~/quickui/libs/js/jquery.js"></script>
    <script type="text/javascript" src="~/quickui/libs/js/language/cn.js"></script>
    <script type="text/javascript" src="~/quickui/libs/js/framework.js"></script>
    <link href="~/quickui/libs/css/import_basic.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" type="text/css" id="skin" prePath="~/quickui/" />
    <link rel="stylesheet" type="text/css" id="customSkin" />
    <!--框架必需end-->
    <link rel="stylesheet" type="text/css" href="~/quickui/style/style.css" />
    <script src="~/quickui/libs/js/table/quiGrid.js" type="text/javascript"></script>
    <!--引入提示组件start-->
    <script type="text/javascript" src="~/quickui/libs/js/popup/toast.js"></script>
    <script type="text/javascript" src="~/quickui/libs/js/popup/notice.js"></script>
    <!--引入提示组件end-->
    <script type="text/javascript" src="~/quickui/libs/js/form/datePicker/WdatePicker.js"></script>
    <script src="~/quickui/libs/js/form/validationRule.js" type="text/javascript"></script>
    <script src="~/quickui/libs/js/form/validation.js" type="text/javascript"></script>
</head>
<body>
    <div style="width:550px;">

        <form id="form1" method="post" failAlert="表单填写不正确，请按要求填写！" onsubmit="">
            <input type="hidden" name="ID" value="@Model.ID"/>
            <table class="tableStyle" formMode="transparent">
                <tr>
                    <td>人员类别：</td>
                    <td>
                        <select id="PersonType" name="PersonType">
                            <option @(Model.PersonType == "未设置" ? "selected" : "") value="未设置">未设置</option>
                            <option @(Model.PersonType == "来自武汉人员" ? "selected" : "") value="来自武汉人员">来自武汉人员</option>
                            <option @(Model.PersonType == "来自湖北（非武汉）人员" ? "selected" : "") value="来自湖北（非武汉）人员">来自湖北（非武汉）人员</option>
                            <option @(Model.PersonType == "到过武汉人员" ? "selected" : "") value="到过武汉人员">到过武汉人员</option>
                            <option @(Model.PersonType == "到过湖北（非武汉）人员" ? "selected" : "") value="到过湖北（非武汉）人员">到过湖北（非武汉）人员</option>
                            <option @(Model.PersonType == "密切接触人员" ? "selected" : "") value="密切接触人员">密切接触人员</option>
                            <option @(Model.PersonType == "我市在鄂人员" ? "selected" : "") value="我市在鄂人员">我市在鄂人员</option>
                            <option @(Model.PersonType == "发热观察人员" ? "selected" : "") value="发热观察人员">发热观察人员</option>
                            <option @(Model.PersonType == "购药人员" ? "selected" : "") value="购药人员">购药人员</option>
                            <option @(Model.PersonType == "都安地区到港人员" ? "selected" : "") value="都安地区到港人员">都安地区到港人员</option>
                            <option @(Model.PersonType == "灵山地区到港人员" ? "selected" : "") value="灵山地区到港人员">灵山地区到港人员</option>
                        </select>
                    </td>
                </tr> 
                <tr>
                    <td>姓名：</td>
                    <td><input id="PersonName" name="PersonName" type="text" style="width:300px;" class="validate[required]" value="@Model.PersonName"/></td>
                </tr>
                <tr>
                    <td>性别：</td>
                    <td>
                        <select id="Sex" name="Sex">
                            <option @(Model.Sex == "男" ? "selected" : "") value="男">男</option>
                            <option @(Model.Sex == "女" ? "selected" : "") value="女">女</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td>身份证号：</td>
                    <td><input id="IDCardNo" name="IDCardNo" type="text" style="width:300px;"  value="@Model.IDCardNo"/></td>
                </tr>
                <tr>
                    <td>电话号码：</td>
                    <td><input id="PhoneNo" name="PhoneNo" type="text" style="width:300px;" class="validate[required]" value="@Model.PhoneNo"/></td>
                </tr>
                <tr>
                    <td>籍贯：</td>
                    <td><input id="Native" name="Native" type="text" style="width:300px;" value="@Model.Native"/></td>
                </tr>
                <tr>
                    <td>到港时间：</td>
                    <td><input id="ArriveTime" name="ArriveTime" type="text" class="date" value="@Model.ArriveTime"/></td>
                </tr>
                <tr>
                    <td>到港目的：</td>
                    <td>
                        <select id="ArrivePurpose" name="ArrivePurpose">
                            <option @(Model.ArrivePurpose == "工作" ? "selected" : "") value="工作">工作</option>
                            <option @(Model.ArrivePurpose == "旅游" ? "selected" : "") value="旅游">旅游</option>
                            <option @(Model.ArrivePurpose == "学习" ? "selected" : "") value="学习">学习</option>
                            <option @(Model.ArrivePurpose == "探访亲友" ? "selected" : "") value="探访亲友">探访亲友</option>
                            <option @(Model.ArrivePurpose == "定居" ? "selected" : "") value="定居">定居</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td>交通方式：</td>
                    <td><input id="Traffic" name="Traffic" type="text" style="width:300px;" value="@Model.Traffic" /></td>
                </tr>
                <tr>
                    <td>身体状况：</td>
                    <td>
                        <select id="PhysicalState" name="PhysicalState">
                            <option @(Model.PhysicalState == "正常" ? "selected" : "") value="正常">正常</option>
                            <option @(Model.PhysicalState == "咳嗽" ? "selected" : "") value="咳嗽">咳嗽</option>
                            <option @(Model.PhysicalState == "发烧" ? "selected" : "") value="发烧">发烧</option>
                            <option @(Model.PhysicalState == "乏力" ? "selected" : "") value="乏力">乏力</option>
                        </select>

                    </td>
                </tr>
                <tr>
                    <td>最新体温：</td>
                    <td><input id="LastTemp" name="LastTemp" type="text" style="width:300px;" value="@Model.LastTemp" /></td>
                </tr>

                <tr>
                    <td>管控措施：</td>
                    <td>
                        <select id="DisposeType" name="DisposeType">
                            <option @(Model.DisposeType == "未设置" ? "selected" : "") value="未设置">未设置</option>
                            <option @(Model.DisposeType == "同住未控" ? "selected" : "") value="同住未控">同住未控</option>
                            <option @(Model.DisposeType == "居家观察" ? "selected" : "") value="居家观察">居家观察</option>
                            <option @(Model.DisposeType == "指定场所观察" ? "selected" : "") value="指定场所观察">指定场所观察</option>
                            <option @(Model.DisposeType == "医学观察" ? "selected" : "") value="医学观察">医学观察</option>
                            <option @(Model.DisposeType == "治疗" ? "selected" : "") value="治疗">治疗</option>
                            <option @(Model.DisposeType == "解除管控" ? "selected" : "") value="解除管控">解除管控</option>
                        </select>

                    </td>
                </tr>
                <tr>
                    <td>所属区域：</td>
                    <td>
                        <select id="Area" name="Area">
                            <option @(Model.Area == "未设置" ? "selected" : "") value="未设置">未设置</option>
                            <option @(Model.Area == "渔洲坪街道" ? "selected" : "") value="渔洲坪街道">渔洲坪街道</option>
                            <option @(Model.Area == "白沙万街道" ? "selected" : "") value="白沙万街道">白沙万街道</option>
                            <option @(Model.Area == "沙潭江街道" ? "selected" : "") value="沙潭江街道">沙潭江街道</option>
                            <option @(Model.Area == "王府街道" ? "selected" : "") value="王府街道">王府街道</option>
                            <option @(Model.Area == "光坡镇" ? "selected" : "") value="光坡镇">光坡镇</option>
                            <option @(Model.Area == "企沙镇" ? "selected" : "") value="企沙镇">企沙镇</option>
                        </select>

                    </td>
                </tr>
                <tr>
                    <td>现居住地址：</td>
                    <td><input type="text" id="NowAddress" name="NowAddress" style="width:300px;" value="@Model.NowAddress"/></td>
                </tr>
                <tr>
                    <td>负责人：</td>
                    <td><input id="ManageMan" name="ManageMan" type="text" style="width:300px;" value="@Model.ManageMan"/></td>
                </tr>

                <tr>
                    <td>负责人电话：</td>
                    <td><input type="text" id="ManageManPhone" name="ManageManPhone" style="width:300px;" value="@Model.ManageManPhone"/></td>
                </tr>


                <tr>
                    <td>越界预警：</td>
                    <td>
                        <select id="ByeondWarning" name="ByeondWarning">
                            <option @(Model.ByeondWarning == "正常" ? "selected" : "") value="正常">正常</option>
                            <option @(Model.ByeondWarning == "异常" ? "selected" : "") value="异常">异常</option>
                        </select>

                    </td>
                </tr>
                @if (ViewBag.IsSupAdmin == "1")
                {
                    <tr>
                        <td>是否二级管理员：</td>
                        <td>
                            <select id="IsAdmin" name="IsAdmin">
                                <option @(Model.IsAdmin == "0" ? "selected" : "") value="0">否</option>
                                <option @(Model.IsAdmin == "1" ? "selected" : "") value="1">是</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td>用户名：</td>
                        <td><input id="LoginName" name="LoginName" type="text" style="width:300px;" value="@Model.LoginName" /></td>
                    </tr>
                    <tr>
                        <td>密码：</td>
                        <td><input id="LoginPassword" name="LoginPassword" type="text" style="width:300px;" value="@Model.LoginPassword" /></td>
                    </tr>
                }
                
                <tr>
                    <td colspan="2">
                        <input type="button" class="primary" value="提 交" onclick="myTest();" />
                    </td>
                </tr>
            </table>
        </form>
    </div>

    <script type="text/javascript">

        //function validateForm(containerId) {
        //    var valid = $(containerId).validationEngine({ returnIsValid: true });
        //    if (valid == true) {
        //        myTest();
        //        // top.Toast("showNoticeToast", '进行提交处理');
        //    } else {
        //        top.Toast("showErrorToast", '表单填写不正确，请按要求填写！');
        //    }
        //}

        $(function () {
            $("#IsAdmin").onChange(function () {
                if ($("#IsAdmin").val() == "1") {

                }
            });
        });

        function myTest() {
            var valid = $("#form1").validationEngine({ returnIsValid: true });
            if (valid) {
                $.ajax({
                    url: "@Url.Action("SaveEdit", "Epidemic")", //你的路由地址
                    type: "post",
                    dataType: "json",
                    data: $("#form1").serialize(),
                    timeout: 30000,
                    success: function (data) {
                        if (data.status == "yes") {
                            top.Toast('showSuccessToast', data.message);
                            top.Dialog.close();
                        } else {
                            top.Toast('showErrorToast', data.message);
                        }
                    }
                });
            }
        }

    </script>
</body>
</html>
